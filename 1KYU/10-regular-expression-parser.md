### Problem:
<p>Your task is to implement a simple regular expression parser. We will have a parser that outputs the following AST of a regular expression:</p>
<pre><code class="language-haskell"><span class="hljs-class"><span class="hljs-keyword">data</span> <span class="hljs-type">RegExp</span> = <span class="hljs-type">Normal</span> <span class="hljs-type">Char</span>       <span class="hljs-comment">-- ^ A character that is not in &quot;()*|.&quot;</span></span>
            | <span class="hljs-type">Any</span>               <span class="hljs-comment">-- ^ Any character</span>
            | <span class="hljs-type">ZeroOrMore</span> <span class="hljs-type">RegExp</span> <span class="hljs-comment">-- ^ Zero or more occurances of the same regexp</span>
            | <span class="hljs-type">Or</span> <span class="hljs-type">RegExp</span> <span class="hljs-type">RegExp</span>  <span class="hljs-comment">-- ^ A choice between 2 regexps</span>
            | <span class="hljs-type">Str</span> [<span class="hljs-type">RegExp</span>]      <span class="hljs-comment">-- ^ A sequence of regexps.</span></code></pre>
<pre style="display: none;"><code class="language-c"><span class="hljs-function">RegExp* <span class="hljs-title">normal</span> <span class="hljs-params">(<span class="hljs-keyword">char</span>)</span></span>;                    <span class="hljs-comment">// ^ A character that is not in &quot;()*|.&quot;</span>
<span class="hljs-function">RegExp* <span class="hljs-title">any</span> <span class="hljs-params">()</span></span>;                           <span class="hljs-comment">// ^ Any character</span>
<span class="hljs-function">RegExp* <span class="hljs-title">zeroOrMore</span> <span class="hljs-params">(RegExp *starred)</span></span>;     <span class="hljs-comment">// ^ Zero or more occurances of the same regexp</span>
<span class="hljs-function">RegExp* <span class="hljs-title">or</span> <span class="hljs-params">(RegExp* left, RegExp* right)</span></span>; <span class="hljs-comment">// ^ A choice between 2 regexps</span>
<span class="hljs-function">RegExp* <span class="hljs-title">str</span> <span class="hljs-params">(RegExp *first)</span></span>;              <span class="hljs-comment">// ^ A sequence of regexps, first element</span>
<span class="hljs-function">RegExp* <span class="hljs-title">add</span> <span class="hljs-params">(RegExp *str, RegExp* next)</span></span>;  <span class="hljs-comment">// ^ A sequence of regexps, additional element</span></code></pre>
<pre style="display: none;"><code class="language-csharp">Reg.<span class="hljs-function">Exp <span class="hljs-title">normal</span> (<span class="hljs-params"><span class="hljs-keyword">char</span></span>)</span>;                    <span class="hljs-comment">// ^ A character that is not in &quot;()*|.&quot;</span>
Reg.<span class="hljs-function">Exp <span class="hljs-title">any</span> (<span class="hljs-params"></span>)</span>;                           <span class="hljs-comment">// ^ Any character</span>
Reg.<span class="hljs-function">Exp <span class="hljs-title">zeroOrMore</span> (<span class="hljs-params">Reg.Exp starred</span>)</span>;     <span class="hljs-comment">// ^ Zero or more occurances of the same regexp</span>
Reg.<span class="hljs-function">Exp <span class="hljs-title">or</span> (<span class="hljs-params">Reg.Exp left, Reg.Exp right</span>)</span>; <span class="hljs-comment">// ^ A choice between 2 regexps</span>
Reg.<span class="hljs-function">Exp <span class="hljs-title">str</span> (<span class="hljs-params">Reg.Exp first</span>)</span>;              <span class="hljs-comment">// ^ A sequence of regexps, first element</span>
Reg.<span class="hljs-function">Exp <span class="hljs-title">add</span> (<span class="hljs-params">Reg.Exp str, Reg.Exp next</span>)</span>;  <span class="hljs-comment">// ^ A sequence of regexps, additional element</span></code></pre>
<pre style="display: none;"><code class="language-cpp"><span class="hljs-function">RegExp* <span class="hljs-title">normal</span> <span class="hljs-params">(<span class="hljs-keyword">char</span>)</span></span>;                     <span class="hljs-comment">// ^ A character that is not in &quot;()*|.&quot;</span>
<span class="hljs-function">RegExp* <span class="hljs-title">any</span> <span class="hljs-params">()</span></span>;                            <span class="hljs-comment">// ^ Any character</span>
<span class="hljs-function">RegExp* <span class="hljs-title">zeroOrMore</span> <span class="hljs-params">(RegExp *starred)</span></span>;      <span class="hljs-comment">// ^ Zero or more occurances of the same regexp</span>
<span class="hljs-function">RegExp* <span class="hljs-title">orr</span> <span class="hljs-params">(RegExp* left, RegExp* right)</span></span>; <span class="hljs-comment">// ^ A choice between 2 regexps</span>
<span class="hljs-function">RegExp* <span class="hljs-title">str</span> <span class="hljs-params">(RegExp *first)</span></span>;               <span class="hljs-comment">// ^ A sequence of regexps, first element</span>
<span class="hljs-function">RegExp* <span class="hljs-title">add</span> <span class="hljs-params">(RegExp *str, RegExp* next)</span></span>;   <span class="hljs-comment">// ^ A sequence of regexps, additional element</span></code></pre>
<pre style="display: none;"><code class="language-python">Normal (c)           <span class="hljs-comment"># ^ A character (string) that is not in &quot;()*|.&quot;</span>
Any ()               <span class="hljs-comment"># ^ Any character</span>
ZeroOrMore (regexp)  <span class="hljs-comment"># ^ Zero or more occurances of the same regexp</span>
Or (regexp, regexp)  <span class="hljs-comment"># ^ A choice between 2 regexps</span>
Str ([regexps])      <span class="hljs-comment"># ^ A sequence of regexps.</span></code></pre>
<pre style="display: none;"><code class="language-java"><span class="hljs-keyword">new</span> Void()                            <span class="hljs-comment">// An empty RegExp object, used only</span>
                                      <span class="hljs-comment">// as default output for wrong inputs.</span>
<span class="hljs-keyword">new</span> Normal(<span class="hljs-keyword">char</span> c)                    <span class="hljs-comment">// A character (string) that is not in &quot;()*|.&quot;</span>
<span class="hljs-keyword">new</span> Any()                             <span class="hljs-comment">// Any character</span>
<span class="hljs-keyword">new</span> ZeroOrMore(RegExp regexp)         <span class="hljs-comment">// Zero or more occurances of the same regexp</span>
<span class="hljs-keyword">new</span> Or(RegExp r1, RegExp r2)          <span class="hljs-comment">// A choice between 2 regexps</span>
<span class="hljs-keyword">new</span> Str(List&lt;RegExp&gt; lstRegexps])     <span class="hljs-comment">// A sequence of regexps.</span>

<span class="hljs-comment">// All these objects implement the toString(), hashCode() and equals() methods and extend the RegExp abstract class.</span>
In addition, <span class="hljs-function">you can use the <span class="hljs-title">getType</span><span class="hljs-params">()</span> method to obtain a string representing the structure of the object and its <span class="hljs-title">children</span> <span class="hljs-params">(using Str, Or, Normal, ... dnominations)</span>.</span></code></pre>
<pre style="display: none;"><code class="language-javascript"><span class="hljs-keyword">new</span> Normal(c)          <span class="hljs-comment">// A character that is not in &quot;()*|.&quot;</span>
<span class="hljs-keyword">new</span> Any()              <span class="hljs-comment">// Any character</span>
<span class="hljs-keyword">new</span> ZeroOrMore(regexp) <span class="hljs-comment">// Zero or more occurances of the same regexp</span>
<span class="hljs-keyword">new</span> Or(regexp,regexp)  <span class="hljs-comment">// A choice between 2 regexps</span>
<span class="hljs-keyword">new</span> Str([regexp])      <span class="hljs-comment">// A sequence of regexps</span></code></pre>
<p>As with the usual regular expressions, <code>Any</code> is denoted by the <code>&apos;.&apos;</code> character, <code>ZeroOrMore</code> is denoted by a subsequent <code>&apos;*&apos;</code> and <code>Or</code> is denoted by <code>&apos;|&apos;</code>. Brackets, <code>(</code> and <code>)</code>, are allowed to group a sequence of regular expressions into the <code>Str</code> object.</p>
<p><code>Or</code> is not associative, so <code>&quot;a|(a|a)&quot;</code> and <code>&quot;(a|a)|a&quot;</code> are both valid regular expressions, whereas <code>&quot;a|a|a&quot;</code> is not.</p>
<p>Operator precedences from highest to lowest are: <code>*</code>, sequencing and <code>|</code>. Therefore the followings hold:</p>
<pre><code class="language-haskell"><span class="hljs-string">&quot;ab*&quot;</span>     -&gt; <span class="hljs-type">Str</span> [<span class="hljs-type">Normal</span> &apos;a&apos;, <span class="hljs-type">ZeroOrMore</span> (<span class="hljs-type">Normal</span> &apos;b&apos;)]
<span class="hljs-string">&quot;(ab)*&quot;</span>   -&gt; <span class="hljs-type">ZeroOrMore</span> (<span class="hljs-type">Str</span> [<span class="hljs-type">Normal</span> &apos;a&apos;, <span class="hljs-type">Normal</span> &apos;b&apos;])
<span class="hljs-string">&quot;ab|a&quot;</span>    -&gt; <span class="hljs-type">Or</span> (<span class="hljs-type">Str</span> [<span class="hljs-type">Normal</span> &apos;a&apos;,<span class="hljs-type">Normal</span> &apos;b&apos;]) (<span class="hljs-type">Normal</span> &apos;a&apos;)
<span class="hljs-string">&quot;a(b|a)&quot;</span>  -&gt; <span class="hljs-type">Str</span> [<span class="hljs-type">Normal</span> &apos;a&apos;,<span class="hljs-type">Or</span> (<span class="hljs-type">Normal</span> &apos;b&apos;) (<span class="hljs-type">Normal</span> &apos;a&apos;)]
<span class="hljs-string">&quot;a|b*&quot;</span>    -&gt; <span class="hljs-type">Or</span> (<span class="hljs-type">Normal</span> &apos;a&apos;) (<span class="hljs-type">ZeroOrMore</span> (<span class="hljs-type">Normal</span> &apos;b&apos;))
<span class="hljs-string">&quot;(a|b)*&quot;</span>  -&gt; <span class="hljs-type">ZeroOrMore</span> (<span class="hljs-type">Or</span> (<span class="hljs-type">Normal</span> &apos;a&apos;) (<span class="hljs-type">Normal</span> &apos;b&apos;))</code></pre>
<pre style="display: none;"><code class="language-c"><span class="hljs-string">&quot;ab*&quot;</span>     -&gt; add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), zeroOrMore (normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;(ab)*&quot;</span>   -&gt; zeroOrMore (add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;ab|a&quot;</span>    -&gt; <span class="hljs-keyword">or</span> (add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), normal (<span class="hljs-string">&apos;b&apos;</span>)), normal (<span class="hljs-string">&apos;a&apos;</span>))
<span class="hljs-string">&quot;a(b|a)&quot;</span>  -&gt; add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), <span class="hljs-keyword">or</span> (normal (<span class="hljs-string">&apos;b&apos;</span>), normal (<span class="hljs-string">&apos;a&apos;</span>)))
<span class="hljs-string">&quot;a|b*&quot;</span>    -&gt; <span class="hljs-keyword">or</span> (normal (<span class="hljs-string">&apos;a&apos;</span>), zeroOrMore (normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;(a|b)*&quot;</span>  -&gt; zeroOrMore (<span class="hljs-keyword">or</span> (normal (<span class="hljs-string">&apos;a&apos;</span>), normal (<span class="hljs-string">&apos;b&apos;</span>)))</code></pre>
<pre style="display: none;"><code class="language-csharp"><span class="hljs-string">&quot;ab*&quot;</span>     -&gt; Reg.<span class="hljs-keyword">add</span> (Reg.str (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)), Reg.zeroOrMore (Reg.normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;(ab)*&quot;</span>   -&gt; Reg.zeroOrMore (Reg.<span class="hljs-keyword">add</span> (str (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)), Reg.normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;ab|a&quot;</span>    -&gt; Reg.or (Reg.<span class="hljs-keyword">add</span> (Reg.str (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)), Reg.normal (<span class="hljs-string">&apos;b&apos;</span>)), Reg.normal (<span class="hljs-string">&apos;a&apos;</span>))
<span class="hljs-string">&quot;a(b|a)&quot;</span>  -&gt; Reg.<span class="hljs-keyword">add</span> (Reg.str (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)), Reg.or (Reg.normal (<span class="hljs-string">&apos;b&apos;</span>), Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)))
<span class="hljs-string">&quot;a|b*&quot;</span>    -&gt; Reg.or (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>), Reg.zeroOrMore (Reg.normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;(a|b)*&quot;</span>  -&gt; Reg.zeroOrMore (Reg.or (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>), Reg.normal (<span class="hljs-string">&apos;b&apos;</span>)))</code></pre>
<pre style="display: none;"><code class="language-cpp"><span class="hljs-string">&quot;ab*&quot;</span>     -&gt; add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), zeroOrMore (normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;(ab)*&quot;</span>   -&gt; zeroOrMore (add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;ab|a&quot;</span>    -&gt; orr (add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), normal (<span class="hljs-string">&apos;b&apos;</span>)), normal (<span class="hljs-string">&apos;a&apos;</span>))
<span class="hljs-string">&quot;a(b|a)&quot;</span>  -&gt; add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), orr (normal (<span class="hljs-string">&apos;b&apos;</span>), normal (<span class="hljs-string">&apos;a&apos;</span>)))
<span class="hljs-string">&quot;a|b*&quot;</span>    -&gt; orr (normal (<span class="hljs-string">&apos;a&apos;</span>), zeroOrMore (normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;(a|b)*&quot;</span>  -&gt; zeroOrMore (orr (normal (<span class="hljs-string">&apos;a&apos;</span>), normal (<span class="hljs-string">&apos;b&apos;</span>)))</code></pre>
<pre style="display: none;"><code class="language-python">&quot;ab*&quot;     -&gt; Str ([Normal (&apos;a&apos;), ZeroOrMore (Normal (&apos;b&apos;))])
&quot;(ab)*&quot;   -&gt; ZeroOrMore (Str ([Normal (&apos;a&apos;), Normal (&apos;b&apos;)]))
&quot;ab|a&quot;    -&gt; Or (Str ([Normal (&apos;a&apos;), Normal (&apos;b&apos;)]), Normal (&apos;a&apos;))
&quot;a(b|a)&quot;  -&gt; Str ([Normal (&apos;a&apos;), Or (Normal (&apos;b&apos;), Normal (&apos;a&apos;))])
&quot;a|b*&quot;    -&gt; Or (Normal (&apos;a&apos;), ZeroOrMore (Normal (&apos;b&apos;)))
&quot;(a|b)*&quot;  -&gt; ZeroOrMore (Or (Normal (&apos;a&apos;), Normal (&apos;b&apos;)))</code></pre>
<pre style="display: none;"><code class="language-java"><span class="hljs-string">&quot;ab*&quot;</span>     -&gt; <span class="hljs-keyword">new</span> Str ([<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> ZeroOrMore (<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;b&apos;</span>))])
<span class="hljs-string">&quot;(ab)*&quot;</span>   -&gt; <span class="hljs-keyword">new</span> ZeroOrMore (<span class="hljs-keyword">new</span> Str ([<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;b&apos;</span>)]))
<span class="hljs-string">&quot;ab|a&quot;</span>    -&gt; <span class="hljs-keyword">new</span> Or (<span class="hljs-keyword">new</span> Str ([<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;b&apos;</span>)]), <span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>))
<span class="hljs-string">&quot;a(b|a)&quot;</span>  -&gt; <span class="hljs-keyword">new</span> Str ([<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Or (<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;b&apos;</span>), <span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>))])
<span class="hljs-string">&quot;a|b*&quot;</span>    -&gt; <span class="hljs-keyword">new</span> Or (<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> ZeroOrMore (<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;(a|b)*&quot;</span>  -&gt; <span class="hljs-keyword">new</span> ZeroOrMore (<span class="hljs-keyword">new</span> Or (<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;b&apos;</span>)))</code></pre>
<pre style="display: none;"><code class="language-kotlin"><span class="hljs-string">&quot;ab*&quot;</span>     -&gt; Str ([Normal (<span class="hljs-string">&apos;a&apos;</span>), ZeroOrMore (Normal (<span class="hljs-string">&apos;b&apos;</span>))])
<span class="hljs-string">&quot;(ab)*&quot;</span>   -&gt; ZeroOrMore (Str ([Normal (<span class="hljs-string">&apos;a&apos;</span>), Normal (<span class="hljs-string">&apos;b&apos;</span>)]))
<span class="hljs-string">&quot;ab|a&quot;</span>    -&gt; Or (Str ([Normal (<span class="hljs-string">&apos;a&apos;</span>), Normal (<span class="hljs-string">&apos;b&apos;</span>)]), Normal (<span class="hljs-string">&apos;a&apos;</span>))
<span class="hljs-string">&quot;a(b|a)&quot;</span>  -&gt; Str ([Normal (<span class="hljs-string">&apos;a&apos;</span>), Or (Normal (<span class="hljs-string">&apos;b&apos;</span>), Normal (<span class="hljs-string">&apos;a&apos;</span>))])
<span class="hljs-string">&quot;a|b*&quot;</span>    -&gt; Or (Normal (<span class="hljs-string">&apos;a&apos;</span>), ZeroOrMore (Normal (<span class="hljs-string">&apos;b&apos;</span>)))
<span class="hljs-string">&quot;(a|b)*&quot;</span>  -&gt; ZeroOrMore (Or (Normal (<span class="hljs-string">&apos;a&apos;</span>), Normal (<span class="hljs-string">&apos;b&apos;</span>)))</code></pre>
<pre style="display: none;"><code class="language-javascript"><span class="hljs-string">&quot;ab*&quot;</span>     -&gt; <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> ZeroOrMore(<span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;b&apos;</span>)) ])
<span class="hljs-string">&quot;(ab)*&quot;</span>   -&gt; <span class="hljs-keyword">new</span> ZeroOrMore(<span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>) ]))
<span class="hljs-string">&quot;ab|a&quot;</span>    -&gt; <span class="hljs-keyword">new</span> Or( <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>) ]), <span class="hljs-keyword">new</span> Normal (<span class="hljs-string">&apos;a&apos;</span>) )
<span class="hljs-string">&quot;a(b|a)&quot;</span>  -&gt; <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Or( <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>), <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>) ) ])
<span class="hljs-string">&quot;a|b*&quot;</span>    -&gt; <span class="hljs-keyword">new</span> Or( <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> ZeroOrMore(<span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>)) )
<span class="hljs-string">&quot;(a|b)*&quot;</span>  -&gt; <span class="hljs-keyword">new</span> ZeroOrMore(<span class="hljs-keyword">new</span> Or( <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>) ))</code></pre>
<p>Some examples:</p>
<pre><code class="language-haskell"><span class="hljs-string">&quot;a&quot;</span>          -&gt; <span class="hljs-type">Normal</span> &apos;a&apos;
<span class="hljs-string">&quot;ab&quot;</span>         -&gt; <span class="hljs-type">Str</span> [ <span class="hljs-type">Normal</span> &apos;a&apos;, <span class="hljs-type">Normal</span> &apos;b&apos;]
<span class="hljs-string">&quot;a.*&quot;</span>        -&gt; <span class="hljs-type">Str</span> [ <span class="hljs-type">Normal</span> &apos;a&apos;, <span class="hljs-type">ZeroOrMore</span> <span class="hljs-type">Any</span> ]
<span class="hljs-string">&quot;(a.*)|(bb)&quot;</span> -&gt; <span class="hljs-type">Or</span> (<span class="hljs-type">Str</span> [<span class="hljs-type">Normal</span> a, <span class="hljs-type">ZeroOrMore</span> <span class="hljs-type">Any</span>]) (<span class="hljs-type">Str</span> [<span class="hljs-type">Normal</span> &apos;b&apos;, <span class="hljs-type">Normal</span> &apos;b&apos;])</code></pre>
<pre style="display: none;"><code class="language-c"><span class="hljs-string">&quot;a&quot;</span>          -&gt; normal (<span class="hljs-string">&apos;a&apos;</span>)
<span class="hljs-string">&quot;ab&quot;</span>         -&gt; add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), normal (<span class="hljs-string">&apos;b&apos;</span>))
<span class="hljs-string">&quot;a.*&quot;</span>        -&gt; add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), zeroOrMore (any ()))
<span class="hljs-string">&quot;(a.*)|(bb)&quot;</span> -&gt; <span class="hljs-keyword">or</span> (add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), zeroOrMore (any ())), add (str (normal (<span class="hljs-string">&apos;b&apos;</span>)), normal (b)))</code></pre>
<pre style="display: none;"><code class="language-csharp"><span class="hljs-string">&quot;a&quot;</span>          -&gt; Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)
<span class="hljs-string">&quot;ab&quot;</span>         -&gt; Reg.<span class="hljs-keyword">add</span> (Reg.str (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)), Reg.normal (<span class="hljs-string">&apos;b&apos;</span>))
<span class="hljs-string">&quot;a.*&quot;</span>        -&gt; Reg.<span class="hljs-keyword">add</span> (Reg.str (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)), Reg.zeroOrMore (Reg.any ()))
<span class="hljs-string">&quot;(a.*)|(bb)&quot;</span> -&gt; Reg.or (Reg.<span class="hljs-keyword">add</span> (Reg.str (Reg.normal (<span class="hljs-string">&apos;a&apos;</span>)), Reg.zeroOrMore (Reg.any ())), Reg.<span class="hljs-keyword">add</span> (Reg.str (Reg.normal (<span class="hljs-string">&apos;b&apos;</span>)), Reg.normal (b)))</code></pre>
<pre style="display: none;"><code class="language-cpp"><span class="hljs-string">&quot;a&quot;</span>          -&gt; normal (<span class="hljs-string">&apos;a&apos;</span>)
<span class="hljs-string">&quot;ab&quot;</span>         -&gt; add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), normal (<span class="hljs-string">&apos;b&apos;</span>))
<span class="hljs-string">&quot;a.*&quot;</span>        -&gt; add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), zeroOrMore (any ()))
<span class="hljs-string">&quot;(a.*)|(bb)&quot;</span> -&gt; orr (add (str (normal (<span class="hljs-string">&apos;a&apos;</span>)), zeroOrMore (any ())), add (str (normal (<span class="hljs-string">&apos;b&apos;</span>)), normal (b)))</code></pre>
<pre style="display: none;"><code class="language-python">&quot;a&quot;          -&gt; Normal (&apos;a&apos;)
&quot;ab&quot;         -&gt; Str ([ Normal (&apos;a&apos;), Normal (&apos;b&apos;)])
&quot;a.*&quot;        -&gt; Str ([ Normal (&apos;a&apos;), ZeroOrMore (Any ()) ])
&quot;(a.*)|(bb)&quot; -&gt; Or (Str ([Normal (&apos;a&apos;), ZeroOrMore (Any ())]), Str ([Normal (&apos;b&apos;), Normal (&apos;b&apos;)]))</code></pre>
<pre style="display: none;"><code class="language-java"><span class="hljs-string">&quot;a&quot;</span>          -&gt; <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>)
<span class="hljs-string">&quot;ab&quot;</span>         -&gt; <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>) ])
<span class="hljs-string">&quot;a.*&quot;</span>        -&gt; <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> ZeroOrMore( <span class="hljs-keyword">new</span> Any() ) ])
<span class="hljs-string">&quot;(a.*)|(bb)&quot;</span> -&gt; <span class="hljs-keyword">new</span> Or( <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> ZeroOrMore( <span class="hljs-keyword">new</span> Any() ) ]),
                        <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>), <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>) ]) )</code></pre>
<pre style="display: none;"><code class="language-kotlin"><span class="hljs-string">&quot;a&quot;</span>          -&gt; Normal(<span class="hljs-string">&apos;a&apos;</span>)
<span class="hljs-string">&quot;ab&quot;</span>         -&gt; Str([ Normal(<span class="hljs-string">&apos;a&apos;</span>), Normal(<span class="hljs-string">&apos;b&apos;</span>) ])
<span class="hljs-string">&quot;a.*&quot;</span>        -&gt; Str([ Normal(<span class="hljs-string">&apos;a&apos;</span>), ZeroOrMore( Any() ) ])
<span class="hljs-string">&quot;(a.*)|(bb)&quot;</span> -&gt; Or( Str([ Normal(<span class="hljs-string">&apos;a&apos;</span>), ZeroOrMore( Any() ) ]),
                        Str([ Normal(<span class="hljs-string">&apos;b&apos;</span>), Normal(<span class="hljs-string">&apos;b&apos;</span>) ]) )</code></pre>
<pre style="display: none;"><code class="language-javascript"><span class="hljs-string">&quot;a&quot;</span>          -&gt; <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>)
<span class="hljs-string">&quot;ab&quot;</span>         -&gt; <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>) ])
<span class="hljs-string">&quot;a.*&quot;</span>        -&gt; <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> ZeroOrMore(<span class="hljs-keyword">new</span> Any()) ])
<span class="hljs-string">&quot;(a.*)|(bb)&quot;</span> -&gt; <span class="hljs-keyword">new</span> Or( <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-keyword">new</span> ZeroOrMore(<span class="hljs-keyword">new</span> Any()) ])
                      , <span class="hljs-keyword">new</span> Str([ <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>), <span class="hljs-keyword">new</span> Normal(<span class="hljs-string">&apos;b&apos;</span>) ])
                      )</code></pre>
<p>The followings are invalid regexps and the parser should return <code>Nothing</code> in Haskell / <code>0</code> in C or C++ / <code>null</code> in JavaScript or C# / <code>&quot;&quot;</code> in Python / <code>new Void()</code> in Java/<code>Void()</code> in Kotlin:</p>
<p><code>&quot;&quot;</code>, <code>&quot;)(&quot;</code>, <code>&quot;*&quot;</code>, <code>&quot;a(&quot;</code>, <code>&quot;()&quot;</code>, <code>&quot;a**&quot;</code>, etc.</p>
<p>Feel free to use any parser combinator libraries available on codewars, or implement the parser &quot;from scratch&quot;.</p>

### Solution